<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html>
<head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8">
    <title>JS.Class tests: Compiler</title>
    <script src="../build/min/class.js" type="text/javascript" charset="utf-8"></script>
    <script src="../build/min/patterns.js" type="text/javascript" charset="utf-8"></script>
</head>
<body>
  
  <textarea id="comp" rows="40" cols="100"></textarea>
  <textarea id="build" rows="40" cols="100"></textarea>
  
  <script type="text/javascript">
  
    var TestModule = new JS.Module({
      extend: [{
        singleton: function() {
          return 'singleton';
        },
        
        CONST:  false,
        
        notifyObservers: function() {
          this.callSuper();
          this.callSuper();
        }
      }, JS.Observable],
      
      instance: function(obj) {
        return obj.klass;
      }
    });
    
    document.getElementById('build').value =
        JS.Compiler.compile(JS.Observable, {dependencies: true}) +
        JS.Compiler.compile(TestModule, {dependencies: true});
    
    document.getElementById('comp').value =
        JS.Compiler.compile(JS.Comparable);
  
  </script>
  
</body>
</html>
